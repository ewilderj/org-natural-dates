* org-natural-dates
Natural language date parsing for Org mode scheduling, deadlines, and capture.

** Overview
`org-natural-dates` enables you to use natural language—like "every Friday at 3pm", "tomorrow", or "next Tuesday"—when scheduling tasks or setting deadlines in Org mode. It works seamlessly as a wrapper around the standard `org-schedule` and `org-deadline` commands, both in regular Org buffers and the Org Agenda.

** Installation

*** MELPA (Coming Soon)
Once published on MELPA, you will be able to install using:
#+BEGIN_SRC elisp
M-x package-install RET org-natural-dates RET
#+END_SRC

*** Manual
1. Clone this repository to your Emacs `load-path`.
2. Add the following to your `init.el`:

#+BEGIN_SRC elisp
(add-to-list 'load-path "/path/to/org-natural-dates")
(require 'org-natural-dates)
#+END_SRC

*** Configuration
To get the most out of `org-natural-dates`, bind its commands to the standard Org scheduling keys:

#+BEGIN_SRC elisp
;; Rebind in standard org-mode
(with-eval-after-load 'org
  (define-key org-mode-map (kbd "C-c C-s") 'org-natural-dates-schedule)
  (define-key org-mode-map (kbd "C-c C-d") 'org-natural-dates-deadline))

;; Rebind in org-agenda
(with-eval-after-load 'org-agenda
  (define-key org-agenda-mode-map (kbd "C-c C-s") 'org-natural-dates-agenda-schedule)
  (define-key org-agenda-mode-map (kbd "C-c C-d") 'org-natural-dates-agenda-deadline))
#+END_SRC

** Usage

When you invoke `C-c C-s` (now bound to `org-natural-dates-schedule`), you will be prompted with =Scheduled to:=. You can type any of the following natural language formats:

- *Relative dates:* "tomorrow", "today", "in 3 days"
- *Times:* "at 5pm", "19:00"
- *Recurrences:* "every day", "every 2 weeks", "every Friday"
- *Complex:* "every Monday at 10am"

If you provide a prefix argument (e.g., `C-u C-c C-s`), the command will fall back to the standard `org-schedule` behavior (e.g., to remove a scheduled date or use the calendar).

*** Org Capture Integration
You can seamlessly integrate natural date parsing into your existing `org-capture` workflows. If you add our hook, you can type tasks like `* TODO Brush teeth every day at 5pm` during standard capture (`C-c c`), and when you finalize it (`C-c C-c`), the headline will automatically be cleaned up to `* TODO Brush teeth` and the correct `SCHEDULED:` or `DEADLINE:` timestamp will be inserted.

#+BEGIN_SRC elisp
(add-hook 'org-capture-before-finalize-hook 'org-natural-dates-capture-finalize-hook)
#+END_SRC

Deadlines are automatically detected during capture via keywords (e.g., "due Friday", "deadline in 3 days", "by tomorrow").

** License
GPLv3. See LICENSE for details.

** Development
We use [[https://github.com/alphapapa/makem.sh][makem.sh]] for linting (`checkdoc`, `package-lint`) and testing.

To run the linters and tests locally, you can use `makem.sh`. Note that on macOS, `makem.sh` requires GNU `coreutils` (specifically `gdate` and `gmktemp`) to be installed via Homebrew.

#+BEGIN_SRC bash
curl -sL https://raw.githubusercontent.com/alphapapa/makem.sh/master/makem.sh -o makem.sh
chmod +x makem.sh

# Run tests
./makem.sh test

# Run linters
./makem.sh lint
#+END_SRC

Continuous integration is automatically set up via GitHub Actions to verify these rules across Emacs 27, 28, and 29.
